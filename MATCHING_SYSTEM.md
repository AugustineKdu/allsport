# 🎯 AllSports 매칭 시스템 가이드

## 📋 시스템 개요

AllSports의 새로운 매칭 시스템은 팀 오너들이 전국적으로 또는 지역적으로 매칭을 찾고 관리할 수 있는 플랫폼입니다.

## 🚀 주요 기능

### 1. 전국 매칭 (National Matching)
- **범위**: 전국 어디든 매칭 가능
- **특징**: 지역 제한 없이 전국의 아마추어 팀들과 매칭
- **사용법**: 매칭 생성 시 "전국 매칭" 선택

### 2. 지역 매칭 (Local Matching)
- **범위**: 특정 시/도, 구/군 내에서만 매칭
- **특징**: 가까운 지역의 팀들과 매칭으로 이동 거리 최소화
- **사용법**: 매칭 생성 시 "지역 매칭" 선택 후 지역 지정

### 3. 전화번호 연락 시스템
- **채팅 대신**: 전화번호로 직접 연락하여 세부사항 조율
- **연락처 공개**: 매칭 생성 시 연락처 정보 입력
- **담당자 지정**: 팀 내에서 매칭 담당자 지정 가능

## 👥 사용자 역할별 기능

### 팀 오너 (Team Owner)
- ✅ 매칭 생성 및 관리
- ✅ 매칭 신청하기
- ✅ 신청한 매칭 수락/거절
- ✅ 매칭 상태 관리

### 일반 사용자 (User)
- ❌ 매칭 생성 불가
- ❌ 매칭 신청 불가
- ✅ 매칭 목록 조회 가능

## 📱 사용 방법

### 1. 매칭 만들기

#### 접근 방법
1. 팀 페이지에서 "🎯 매칭 만들기" 버튼 클릭
2. 또는 `/matching/create` 직접 접속

#### 설정 항목
- **매칭 범위**: 지역 vs 전국 선택
- **경기 일시**: 날짜와 시간 설정
- **경기 정보**: 설명, 경기장, 연락처 등
- **매칭 설정**: 신청 마감일, 최대 신청팀 수

#### 예시
```
🏆 테스트 팀 FC의 매칭
📅 2025년 10월 3일 14:00
📍 전국 매칭 (어디든 가능)
🏟️ 강남구민체육관
📞 010-1234-5678 (김팀장)
⏰ 신청 마감: 10월 1일까지
👥 최대 5팀까지 신청 가능
```

### 2. 매칭 찾기

#### 접근 방법
1. 팀 페이지에서 "🔍 매칭 찾기" 버튼 클릭
2. 또는 `/matching` 직접 접속

#### 필터 옵션
- **매칭 범위**: 지역/전국/전체
- **지역**: 특정 시/도 필터링
- **자동 제외**: 이미 신청한 매칭은 목록에서 제외

#### 매칭 정보
각 매칭 카드에는 다음 정보가 표시됩니다:
- 홈팀명과 매칭 범위
- 경기 일시와 지역
- 경기장 정보
- 연락처 정보 (담당자, 전화번호)
- 신청자 수 / 최대 신청자 수
- 신청 마감일

### 3. 매칭 신청

#### 신청 과정
1. 원하는 매칭 카드에서 "매칭 신청하기" 버튼 클릭
2. 모달창에서 연락처 정보 입력
3. 선택사항: 메시지, 가능한 시간대 입력
4. 신청 완료

#### 신청 정보
- **필수**: 연락 담당자, 연락처
- **선택**: 메시지 (팀 소개, 특별 요청사항)
- **선택**: 가능한 시간대

### 4. 매칭 관리

#### 신청 확인
- 매칭 생성자가 신청 목록 확인
- 각 신청팀의 정보와 연락처 표시
- 신청 메시지와 가능한 시간대 확인

#### 수락/거절
- **수락**: 첫 번째로 수락한 팀이 원정팀으로 확정
- **거절**: 신청을 거절하고 다른 팀 선택 가능
- **자동 처리**: 한 팀이 수락되면 나머지 신청은 자동 거절

## 🔄 매칭 플로우

```
1. 팀 오너가 매칭 생성
   ↓
2. 다른 팀 오너들이 매칭 신청
   ↓
3. 홈팀 오너가 신청 확인 및 수락/거절
   ↓
4. 매칭 확정 후 경기 진행
```

## 📞 연락 시스템

### 연락처 공개 방식
- **매칭 생성 시**: 홈팀 연락처 공개
- **매칭 신청 시**: 신청팀 연락처 공개
- **직접 연락**: 전화번호로 바로 통화 가능

### 연락 후 조율 사항
- 경기 날짜/시간 조정
- 경기장 변경
- 경기 규칙 논의
- 기타 세부사항

## 🎯 매칭 상태

### 매칭 상태별 표시
- **🔍 매칭 모집 중**: 신청 받는 중
- **✅ 매칭 확정**: 상대팀 확정됨
- **❌ 매칭 마감**: 신청 마감됨

### 신청 상태별 표시
- **대기중**: 홈팀의 응답 대기
- **수락됨**: 매칭 확정
- **거절됨**: 신청 거절됨
- **철회됨**: 신청 철회됨

## 🛡️ 권한 및 보안

### 권한 체크
- 팀 오너만 매칭 생성/신청 가능
- 매칭 소유자만 신청 관리 가능
- 일반 사용자는 조회만 가능

### 데이터 보호
- 연락처는 매칭 관련자에게만 공개
- 개인정보는 최소한으로 수집
- 신청 철회 가능

## 📊 현재 테스트 데이터

### 생성된 매칭
1. **전국 매칭** (ID: 2)
   - 날짜: 5일 후 14:00
   - 범위: 전국
   - 경기장: 강남구민체육관
   - 연락처: 010-1234-5678

2. **지역 매칭** (ID: 3)
   - 날짜: 7일 후 16:00
   - 범위: 서울특별시 강남구
   - 경기장: 강남축구장
   - 연락처: 010-1234-5678

### 테스트 계정
- **팀 오너**: `teamowner@allsports.com` / `password`
- **일반 사용자**: `test@allsports.com` / `password`

## 🚀 향후 개선 계획

1. **채팅 시스템**: 전화번호 대신 앱 내 채팅
2. **알림 시스템**: 매칭 신청/수락 시 푸시 알림
3. **평가 시스템**: 경기 후 상대팀 평가
4. **자동 매칭**: AI 기반 자동 매칭 추천
5. **결제 시스템**: 경기장 대여비 등 결제 기능

---

**매칭 시스템을 통해 전국의 아마추어 팀들과 즐거운 경기를 즐겨보세요!** 🏆
