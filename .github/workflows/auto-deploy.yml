name: CloudType ìë™ ë°°í¬

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
    - name: ì²´í¬ì•„ì›ƒ
      uses: actions/checkout@v3

    - name: CloudType CLI ì„¤ì¹˜
      run: |
        echo "ğŸ“¦ CloudType CLI ì„¤ì¹˜ ì¤‘..."
        npm install -g @cloudtype/cli

    - name: CloudType ë¡œê·¸ì¸
      env:
        CLOUDTYPE_TOKEN: ${{ secrets.CLOUDTYPE_TOKEN }}
      run: |
        echo "ğŸ” CloudType ë¡œê·¸ì¸..."
        cloudtype login --token ${CLOUDTYPE_TOKEN}

    - name: ë°°í¬ ì‹¤í–‰
      run: |
        echo "ğŸš€ ë°°í¬ ì‹œì‘..."
        cloudtype deploy allsport --branch main --message "ìë™ ë°°í¬: ${{ github.event.head_commit.message }}"
        echo "âœ… ë°°í¬ ì™„ë£Œ!"
