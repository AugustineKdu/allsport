name: CloudType 자동 배포

on:
  push:
    branches:
      - main
  workflow_dispatch:  # 수동 실행도 가능하게

jobs:
  notify-deploy:
    runs-on: ubuntu-latest
    
    steps:
    - name: 체크아웃
      uses: actions/checkout@v3
    
    - name: 배포 알림
      run: |
        echo "🚀 새로운 업데이트 감지!"
        echo "📦 커밋: ${{ github.sha }}"
        echo "💬 메시지: ${{ github.event.head_commit.message }}"
        echo "👤 작성자: ${{ github.event.head_commit.author.name }}"
        echo ""
        echo "⚡ CloudType에서 수동으로 배포하거나 자동 배포를 기다려주세요!"
        
    - name: CloudType Webhook 트리거 (Optional)
      if: false  # CloudType이 자동 배포를 지원하면 true로 변경
      run: |
        # CloudType이 webhook URL을 제공하면 여기에 추가
        # curl -X POST https://cloudtype-webhook-url \
        #   -H "Content-Type: application/json" \
        #   -d '{"branch": "main", "commit": "${{ github.sha }}"}'
        echo "Webhook 트리거 스킵됨"
